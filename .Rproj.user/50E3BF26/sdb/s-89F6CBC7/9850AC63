{
    "contents" : "setwd(\"C:/Users/Administrator/Desktop/Scripts/LgSm-DataProcessing/dataFiles\")\n\n# load phenotype data\ndata<- read.table(\"allData.txt\", sep=\"\\t\", header=TRUE, as.is=TRUE)\n\n\n\n### Transform ppi phenotypes ###\n################################\n\n# ppi phenos are proportions. transform to the log-odds scale using the following functions:\n\nlogit10 <- function(x)\n        log10((x + .Machine$double.eps)/(1 - (x + .Machine$double.eps)))\n# .Machine$double.eps = smallest positive float x such that 1 + x != 1. Here it is 2.220446e-16. \n\nproject.onto.interval <- function(x, a, b)\n        pmin(b, pmax(a,x))\n\ntransform.proportion <- function(x) \n        logit10((project.onto.interval(x, 0.01, 0.99))\n\n# transform the phenotypes in allData file \n# values are expresed as percentages; change to proportions first.\nppi3.logit <- transform.proportion(data$ppi3/100)\nppi6.logit <- transform.proportion(data$ppi6/100)\nppi12.logit <- transform.proportion(data$ppi12/100)\n\n\n### Transform wild phenotype ###\n################################\n\nwild.binary <- data$wild\nwild.binary <- replace(wild.binary, wild.binary > 0, 1)\n\n\n### Save all files           ###\n################################ \n# write to allData file in /dataFiles\nallData <- cbind(data, ppi3.logit, ppi6.logit, ppi12.logit, wild.binary)\nwrite.table(allData, \"allData.txt\", sep=\"\\t\", row.names=F, col.names = T)\n\n# write to phenotypes in /dataFiles\nphenotypes<- read.table(\"phenotypes.txt\", sep=\"\\t\", header=T)\nphenotypes<- cbind(phenotypes, ppi3.logit, ppi6.logit, ppi12.logit, wild.binary)\nwrite.table(phenotypes, \"phenotypes.txt\", sep=\"\\t\", row.names=F, col.names=T)\n\n# write to phenotypes and pheno.names in /LgSmDataProcessing\nwrite.table(names(phenotypes), \"../pheno.names.txt\", sep=\"\\t\", row.names=F)\nwrite.table(phenotypes, \"../phenotypes.txt\", sep=\"\\t\", row.names=F, col.names=T)\nwrite.table(phenotypes, \"../pheno.noHeader.txt\", sep=\"\\t\", row.names=F, col.names=F)\n\n\n",
    "created" : 1425572501927.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1961594057",
    "id" : "9850AC63",
    "lastKnownWriteTime" : 1425578180,
    "path" : "C:/Users/Administrator/Desktop/Scripts/LgSm-DataProcessing/oldScripts/transformPPIandWild.R",
    "project_path" : "oldScripts/transformPPIandWild.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}